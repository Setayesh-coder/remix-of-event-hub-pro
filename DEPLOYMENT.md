# ุฑุงูููุง ุฏูพูู ุณุงุช ูุฑฺฉุฒ ุชุญููุงุช ุงูพุชูุงูฺฉุชุฑููฺฉ

## โ ฺฉุงุฑุจุฑุงู ุชุณุช

### ุงุฏูู ุชุณุช
| ููุฏ | ููุฏุงุฑ |
|------|-------|
| ุดูุงุฑู ููุจุงู | `09123456789` |
| ุงูู | `admin@test.com` |
| ุฑูุฒ ุนุจูุฑ | `Admin@123456` |
| ูุญูู ูุฑูุฏ | ุดูุงุฑู + OTP + ุฑูุฒ ุนุจูุฑ |

### ฺฉุงุฑุจุฑ ุนุงุฏ ุชุณุช
| ููุฏ | ููุฏุงุฑ |
|------|-------|
| ุดูุงุฑู ููุจุงู | `09111111111` |
| ุงูู | `user@test.com` |
| ุฑูุฒ ุนุจูุฑ | `User@123456` |
| ูุญูู ูุฑูุฏ | ุดูุงุฑู + OTP |

---

## ๐ ูุฑุงุญู ุขูุงุฏูโุณุงุฒ ุจุฑุง ุงูุชุดุงุฑ

### 1. ูุนุงูโุณุงุฒ ุณุฑูุณ SMS (IPPanel)

ุณุฑูุณ OTP ุจู IPPanel ูุชุตู ุงุณุช. ุจุฑุง ูุนุงูโุณุงุฒ:

1. ูุงุฑุฏ ุญุณุงุจ IPPanel ุฎูุฏ ุดูุฏ: https://ippanel.com
2. ฺฉ ุงูฺฏู ูพุงูฺฉ ุฌุฏุฏ ุจุณุงุฒุฏ:
   - **ูุชู ุงูฺฏู**: `ฺฉุฏ ุชุงุฏ ุดูุง: %code%`
   - **ููุน**: ุณุฑูุณ
3. ฺฉูุฏ API ุฑุง ุงุฒ ูพูู IPPanel ฺฉูพ ฺฉูุฏ
4. ุฏุฑ Lovableุ ุจู **Settings > Connectors > Lovable Cloud** ุจุฑูุฏ
5. ูุทูุฆู ุดูุฏ ฺฉู `IPPANEL_API_KEY` ุชูุธู ุดุฏู ุจุงุดุฏ

โ๏ธ **ุชูุฌู**: ุฏุฑ ุญุงูุช ุชูุณุนูุ OTP ุฏุฑ ฺฉูุณูู ูุงฺฏ ูโุดูุฏ. ุจุฑุง ุชููุฏุ ุจุงุฏ ฺฉุฏ SMS ุงุฑุณุงู ุดูุฏ.

### 2. ุจุฑุฑุณ ุงููุช

#### RLS Policies
ุชูุงู ุฌุฏุงูู ุฏุงุฑุง ุณุงุณุชโูุง ุงููุช ููุงุณุจ ูุณุชูุฏ:
- โ `profiles` - ฺฉุงุฑุจุฑุงู ููุท ูพุฑููุงู ุฎูุฏ ุฑุง ูโุจููุฏ
- โ `user_roles` - ููุท ุงุฏููโูุง ูโุชูุงููุฏ ูุฏุฑุช ฺฉููุฏ
- โ `courses` - ููู ูโุชูุงููุฏ ุจุจููุฏุ ุงุฏูู ูุฏุฑุช ฺฉูุฏ
- โ `proposals` - ฺฉุงุฑุจุฑุงู ููุท ูพุฑููพูุฒุงู ุฎูุฏ ุฑุง ูโุจููุฏ

### 3. ุชูุธูุงุช ูุญุชูุง

ูุจู ุงุฒ ุงูุชุดุงุฑุ ุงุฒ ูพูู ุงุฏูู ููุงุฑุฏ ุฒุฑ ุฑุง ุชูุธู ฺฉูุฏ:

- [ ] ุชุตูุฑ ูพุณโุฒููู ูุฑู
- [ ] ุชุงุฑุฎ ูุฏู ุดูุงุฑุด ูุนฺฉูุณ
- [ ] ููฺฏููุง ุงุณูพุงูุณุฑ
- [ ] ุจุฑูุงูู ุฒูุงูุจูุฏ (ุฑูุฒูุง ู ุฌูุณุงุช)
- [ ] ุฏูุฑูโูุง ุขููุฒุด
- [ ] ุชุตุงูุฑ ฺฏุงูุฑ
- [ ] ุชุตูุฑ ูพุณโุฒููู ฺฉุงุฑุช ุดุฑฺฉุช
- [ ] ุชุตูุฑ ูพุณโุฒููู ฺฏูุงู

---

## ๐ฆ ุงูุชุดุงุฑ ุณุงุช

### ุฑูุด 1: ุงูุชุดุงุฑ ุงุฒ Lovable (ุชูุตู ุดุฏู)

1. ุฏุฑ Lovableุ ุฑู ุฏฺฉูู **Publish** ฺฉูฺฉ ฺฉูุฏ
2. ุฏุงููู ุณูุงุฑุด ุฎูุฏ ุฑุง ูุตู ฺฉูุฏ (ุงุฎุชุงุฑ)
3. SSL ุจูโุตูุฑุช ุฎูุฏฺฉุงุฑ ูุนุงู ูโุดูุฏ

### ุฑูุด 2: ุงุณุชูุงุฏู ุงุฒ ุฏุงููู ุณูุงุฑุด

1. ุฏุฑ **Settings > Custom Domains** ุฏุงููู ุฎูุฏ ุฑุง ุงุถุงูู ฺฉูุฏ
2. ุฑฺฉูุฑุฏูุง DNS ุฑุง ุชูุธู ฺฉูุฏ:
   ```
   CNAME  www     [your-lovable-domain]
   A      @       [lovable-ip]
   ```
3. ููุชุธุฑ propagation ุจูุงูุฏ (ุชุง 48 ุณุงุนุช)

---

## ๐ง Backend ูุณุชูู (VPS)

ูพูุดู `backend/` ุดุงูู ฺฉ backend ฺฉุงูู Node.js ุงุณุช ฺฉู ูโุชูุงูุฏ ุฑู VPS ูุณุชูู ุงุฌุฑุง ุดูุฏ:

### ูุตุจ ุฑู VPS

```bash
# ฺฉููู ฺฉุฑุฏู ูพุฑูฺู
git clone [your-repo] && cd backend

# ูุตุจ ูุงุจุณุชฺฏโูุง
npm install

# ุชูุธู ูุชุบุฑูุง ูุญุท
cp .env.example .env
nano .env
```

### ูุชุบุฑูุง ูุญุท (`backend/.env`)

```env
PORT=3001
NODE_ENV=production

# PostgreSQL
DATABASE_URL=postgresql://user:password@localhost:5432/oer_db

# JWT
JWT_SECRET=your-super-secret-key-change-this
JWT_EXPIRES_IN=7d

# SMS (IPPanel)
IPPANEL_API_KEY=your-ippanel-api-key
IPPANEL_LINE_NUMBER=3000xxx

# Admin
ADMIN_PHONE=09123456789
ADMIN_PASSWORD=your-secure-password

# Frontend URL (ุจุฑุง CORS)
FRONTEND_URL=https://yourdomain.com
```

### ุฑุงูโุงูุฏุงุฒ ุฏุชุงุจุณ

```bash
# ุงุฌุงุฏ ุฏุชุงุจุณ
createdb oer_db

# ุงุฌุฑุง ูุงฺฏุฑุดูโูุง
npm run db:migrate

# ุงุฌุฑุง seed (ุงุฌุงุฏ ุงุฏูู ูพุดโูุฑุถ)
npm run db:seed
```

### ุงุฌุฑุง ุจุง PM2

```bash
# ูุตุจ PM2
npm install -g pm2

# ุงุฌุฑุง
pm2 start src/index.js --name "oer-backend"

# ุฐุฎุฑู ุชูุธูุงุช
pm2 save
pm2 startup
```

### ุชูุธู Nginx

```nginx
server {
    listen 80;
    server_name api.yourdomain.com;

    location / {
        proxy_pass http://localhost:3001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    }
}
```

### ูุนุงูโุณุงุฒ SSL ุจุง Certbot

```bash
sudo apt install certbot python3-certbot-nginx
sudo certbot --nginx -d api.yourdomain.com
```

---

## ๐ฑ ุชุณุช OTP ุฏุฑ ุญุงูุช ุชูุณุนู

ุฏุฑ ุญุงูุช ุชูุณุนู (ูุจู ุงุฒ ูุนุงูโุณุงุฒ SMS ูุงูุน):

1. ุจู Console ูุฑูุฑฺฏุฑ ูฺฏุงู ฺฉูุฏ
2. ฺฉุฏ OTP ุฏุฑ ูุงฺฏโูุง Edge Function ููุงุด ุฏุงุฏู ูโุดูุฏ
3. ุง ุงุฒ Lovable Cloud > Edge Functions > Logs ุงุณุชูุงุฏู ฺฉูุฏ

---

## ๐ ฺฺฉโูุณุช ุงููุช ูุจู ุงุฒ ุงูุชุดุงุฑ

- [ ] ฺฉูุฏ API ุงูพูู ูุนุงู ู ุดุงุฑฺ ุดุฏู
- [ ] ุฑูุฒ ุนุจูุฑ ุงุฏูู ุชุบุฑ ุงูุชู ุงุฒ ูพุดโูุฑุถ
- [ ] ุฏุงููู CORS ุจู ุฏุงููู ุชููุฏ ุชุบุฑ ุงูุชู
- [ ] Edge Function `create-test-admin` ุญุฐู ุง ุบุฑูุนุงู ุดุฏู
- [ ] ูุงฺฏโูุง ุญุณุงุณ ุฏุฑ Edge Functions ุญุฐู ุดุฏู
- [ ] Backup ุงุฒ ุฏุชุงุจุณ ูุนุงู ุดุฏู

---

## ๐ ูพุดุชุจุงู

ุจุฑุง ูุฑฺฏููู ุณุคุงู ุง ูุดฺฉู ุฏุฑ ุฏูพูู:
1. ูุณุชูุฏุงุช Lovable ุฑุง ุจุฑุฑุณ ฺฉูุฏ
2. ูุงฺฏโูุง Edge Functions ุฑุง ฺฺฉ ฺฉูุฏ
3. ูุถุนุช ุณุฑูุณโูุง ุฎุงุฑุฌ (IPPanel) ุฑุง ุจุฑุฑุณ ฺฉูุฏ
